<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>ë¼ì´ë¸Œ ì •ë³´ ì…ë ¥</title>
  </head>
  <body>
    <h1>ë¼ì´ë¸Œ ì •ë³´ ì…ë ¥</h1>
    <label for="date">ë‚ ì§œ:</label>
    <input type="date" id="date" required /><br /><br />
    <label for="event_name">ì´ë²¤íŠ¸ ì´ë¦„:</label>
    <input type="text" id="event_name" required /><br /><br />
    <label for="open_time">ê°œì¥ ì‹œê°„:</label>
    <input type="time" id="open_time" required /><br /><br />
    <label for="start_time">ê°œì—° ì‹œê°„:</label>
    <input type="time" id="start_time" required /><br /><br />
    <label for="venue">íšŒì¥:</label>
    <input type="text" id="venue" required /><br /><br />
    <label for="reservation_price">ì˜ˆì•½ ê°€ê²©:</label>
    <input type="number" id="reservation_price" min="0" required />â‚©<br /><br />
    <label for="same_day_price">ë‹¹ì¼ê¶Œ ê°€ê²©:</label>
    <input type="number" id="same_day_price" min="0" required />â‚©<br /><br />
    <label for="performance_start_time">ì¶œì—° ì‹œì‘ ì‹œê°„:</label>
    <input type="time" id="performance_start_time" required /><br /><br />
    <label for="performance_end_time">ì¶œì—° ì¢…ë£Œ ì‹œê°„:</label>
    <input type="time" id="performance_end_time" required /><br /><br />
    <label for="goods_start_time">ë¬¼íŒ ì‹œì‘ ì‹œê°„:</label>
    <input type="time" id="goods_start_time" required /><br /><br />
    <label for="goods_end_time">ë¬¼íŒ ì¢…ë£Œ ì‹œê°„:</label>
    <input type="time" id="goods_end_time" required /><br /><br />
    <label for="special">ì…ì¥íŠ¹ì „:</label>
    <input type="text" id="special" required /><br /><br />
    <label for="reservation_url">ì˜ˆì•½ ë§í¬:</label>
    <input type="url" id="reservation_url" required /><br /><br />
    <button onclick="generateTemplate()">ìƒì„±</button>

    <hr />

    <div id="template"></div>

    <script>
      function roundToNearest5Minutes(timeString) {
        var time = new Date("1970-01-01T" + timeString + ":00");
        var minutes = time.getMinutes();
        var roundedMinutes = Math.round(minutes / 5) * 5;
        if (roundedMinutes === 60) {
          time.setHours(time.getHours() + 1);
          time.setMinutes(0);
        } else {
          time.setMinutes(roundedMinutes);
        }
        return time.toTimeString().slice(0, 5);
      }

      function generateTemplate() {
        var date = document.getElementById("date").value;
        var event_name = document.getElementById("event_name").value;
        var open_time = roundToNearest5Minutes(
          document.getElementById("open_time").value
        );
        var start_time = roundToNearest5Minutes(
          document.getElementById("start_time").value
        );
        var venue = document.getElementById("venue").value;
        var reservation_price =
          document.getElementById("reservation_price").value;
        var same_day_price = document.getElementById("same_day_price").value;
        var performance_start_time = roundToNearest5Minutes(
          document.getElementById("performance_start_time").value
        );
        var performance_end_time = roundToNearest5Minutes(
          document.getElementById("performance_end_time").value
        );
        var goods_start_time = roundToNearest5Minutes(
          document.getElementById("goods_start_time").value
        );
        var goods_end_time = roundToNearest5Minutes(
          document.getElementById("goods_end_time").value
        );
        var special = document.getElementById("special").value;
        var reservation_url = document.getElementById("reservation_url").value;

        var template = `
            ã€ë¼ì´ë¸Œ ì •ë³´ã€‘

            ${date}
            â–¶ï¸ ã€Œ${event_name}ã€
            ê°œì¥ ${open_time} / ê°œì—° ${start_time}
            íšŒì¥ : ${venue}
            ìš”ê¸ˆ : ì˜ˆì•½ ${reservation_price}â‚© / ë‹¹ì¼ê¶Œ ${same_day_price}â‚©

            ì¶œì—°ğŸ¤ ${performance_start_time} ~ ${performance_end_time}
            ë¬¼íŒğŸ“· ${goods_start_time} ~ ${goods_end_time}

            ğŸ‰ì…ì¥íŠ¹ì „ğŸ‰ ${special}

            â€» ì£¼ìµœ ì¼ê´„ ì˜ˆì•½
            ${reservation_url}

            #NEKIRU_LIVE
            `;

        document.getElementById("template").innerText = template;
      }
    </script>
  </body>
</html>
